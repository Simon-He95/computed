var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var C=_((le,M)=>{"use strict";M.exports=X;function b(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function X(t){if(t=t||{},t.circles)return J(t);return t.proto?s:a;function e(f,i){for(var r=Object.keys(f),n=new Array(r.length),u=0;u<r.length;u++){var o=r[u],p=f[o];typeof p!="object"||p===null?n[o]=p:p instanceof Date?n[o]=new Date(p):ArrayBuffer.isView(p)?n[o]=b(p):n[o]=i(p)}return n}function a(f){if(typeof f!="object"||f===null)return f;if(f instanceof Date)return new Date(f);if(Array.isArray(f))return e(f,a);if(f instanceof Map)return new Map(e(Array.from(f),a));if(f instanceof Set)return new Set(e(Array.from(f),a));var i={};for(var r in f)if(Object.hasOwnProperty.call(f,r)!==!1){var n=f[r];typeof n!="object"||n===null?i[r]=n:n instanceof Date?i[r]=new Date(n):n instanceof Map?i[r]=new Map(e(Array.from(n),a)):n instanceof Set?i[r]=new Set(e(Array.from(n),a)):ArrayBuffer.isView(n)?i[r]=b(n):i[r]=a(n)}return i}function s(f){if(typeof f!="object"||f===null)return f;if(f instanceof Date)return new Date(f);if(Array.isArray(f))return e(f,s);if(f instanceof Map)return new Map(e(Array.from(f),s));if(f instanceof Set)return new Set(e(Array.from(f),s));var i={};for(var r in f){var n=f[r];typeof n!="object"||n===null?i[r]=n:n instanceof Date?i[r]=new Date(n):n instanceof Map?i[r]=new Map(e(Array.from(n),s)):n instanceof Set?i[r]=new Set(e(Array.from(n),s)):ArrayBuffer.isView(n)?i[r]=b(n):i[r]=s(n)}return i}}function J(t){var e=[],a=[];return t.proto?i:f;function s(r,n){for(var u=Object.keys(r),o=new Array(u.length),p=0;p<u.length;p++){var c=u[p],l=r[c];if(typeof l!="object"||l===null)o[c]=l;else if(l instanceof Date)o[c]=new Date(l);else if(ArrayBuffer.isView(l))o[c]=b(l);else{var v=e.indexOf(l);v!==-1?o[c]=a[v]:o[c]=n(l)}}return o}function f(r){if(typeof r!="object"||r===null)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return s(r,f);if(r instanceof Map)return new Map(s(Array.from(r),f));if(r instanceof Set)return new Set(s(Array.from(r),f));var n={};e.push(r),a.push(n);for(var u in r)if(Object.hasOwnProperty.call(r,u)!==!1){var o=r[u];if(typeof o!="object"||o===null)n[u]=o;else if(o instanceof Date)n[u]=new Date(o);else if(o instanceof Map)n[u]=new Map(s(Array.from(o),f));else if(o instanceof Set)n[u]=new Set(s(Array.from(o),f));else if(ArrayBuffer.isView(o))n[u]=b(o);else{var p=e.indexOf(o);p!==-1?n[u]=a[p]:n[u]=f(o)}}return e.pop(),a.pop(),n}function i(r){if(typeof r!="object"||r===null)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return s(r,i);if(r instanceof Map)return new Map(s(Array.from(r),i));if(r instanceof Set)return new Set(s(Array.from(r),i));var n={};e.push(r),a.push(n);for(var u in r){var o=r[u];if(typeof o!="object"||o===null)n[u]=o;else if(o instanceof Date)n[u]=new Date(o);else if(o instanceof Map)n[u]=new Map(s(Array.from(o),i));else if(o instanceof Set)n[u]=new Set(s(Array.from(o),i));else if(ArrayBuffer.isView(o))n[u]=b(o);else{var p=e.indexOf(o);p!==-1?n[u]=a[p]:n[u]=i(o)}}return e.pop(),a.pop(),n}}});var E=_((ce,W)=>{"use strict";var S=Array.isArray,I=Object.keys,L=Object.prototype.hasOwnProperty;W.exports=function t(e,a){if(e===a)return!0;if(e&&a&&typeof e=="object"&&typeof a=="object"){var s=S(e),f=S(a),i,r,n;if(s&&f){if(r=e.length,r!=a.length)return!1;for(i=r;i--!=0;)if(!t(e[i],a[i]))return!1;return!0}if(s!=f)return!1;var u=e instanceof Date,o=a instanceof Date;if(u!=o)return!1;if(u&&o)return e.getTime()==a.getTime();var p=e instanceof RegExp,c=a instanceof RegExp;if(p!=c)return!1;if(p&&c)return e.toString()==a.toString();var l=I(e);if(r=l.length,r!==I(a).length)return!1;for(i=r;i--!=0;)if(!L.call(a,l[i]))return!1;for(i=r;i--!=0;)if(n=l[i],!t(e[n],a[n]))return!1;return!0}return e!==e&&a!==a}});var F=_(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.parseMultiDataPaths=ee,A.getDataOnPath=void 0;var V=/^\s/,w=function(t,e){throw new Error('Parsing data path "'+t+'" failed at char "'+t[e]+'" (index '+e+")")},$=function(t,e){for(var a=e.index;e.index<e.length;){var s=t[e.index];if(/^[0-9]/.test(s)){e.index++;continue}break}return a===e.index&&w(t,e.index),parseInt(t.slice(a,e.index),10)},B=function(t,e){var a=e.index,s=t[a];if(/^[_a-zA-Z$]/.test(s))for(e.index++;e.index<e.length;){var f=t[e.index];if(/^[_a-zA-Z0-9$]/.test(f)){e.index++;continue}break}else w(t,e.index);return t.slice(a,e.index)},R=function(t,e){for(var a=[B(t,e)],s={deepCmp:!1};e.index<e.length;){var f=t[e.index];if(f==="[")e.index++,a.push($(t,e)),t[e.index]!=="]"&&w(t,e.index),e.index++;else if(f==="."){if(e.index++,t[e.index]==="*"){if(e.index++,t[e.index]==="*"){e.index++,s.deepCmp=!0;break}w(t,e.index)}a.push(B(t,e))}else break}return{path:a,options:s}},N=function(t,e){for(;V.test(t[e.index]);)e.index++;for(var a=[R(t,e)],s=!1;e.index<e.length;){var f=t[e.index];V.test(f)?e.index++:f===","?(s=!0,e.index++):s?(s=!1,a.push(R(t,e))):w(t,e.index)}return a},k=function(t,e){e.index<e.length&&w(t,e.index)};function ee(t){var e={length:t.length,index:0},a=N(t,e);return k(t,e),a}var te=function(t,e){var a=t;return e.forEach(function(s){a=typeof a!="object"||a===null?void 0:a[s]}),a};A.getDataOnPath=te});var z=_(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.create=re,j.unwrap=ne;var q=function(t,e,a){if(typeof t!="object"||t===null)return t;var s={get:function(f,i){if(i==="__rawObject__")return t;var r=a.concat(i),n=t[i];return e.push({path:r,value:n}),q(n,e,r)}};return new Proxy(t,s)};function re(t,e){return q(t,e,[])}function ne(t){return typeof t!="object"||t===null||typeof t.__rawObject__!="object"?t:t.__rawObject__}});var Z=_(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.behavior=void 0;var U,ae=T(C()),ie=T(E()),m=G(F()),x=G(z());function H(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function T(t){return t&&t.__esModule?t:{default:t}}function G(t){if(t&&t.__esModule)return t;var e={};if(t!=null){for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,a):{};s.get||s.set?Object.defineProperty(e,a,s):e[a]=t[a]}}return e.default=t,e}var Y=ae.default({proto:!0}),fe=0,oe=Behavior({lifetimes:{attached:function(){this.setData({_computedWatchInit:"attached"})},created:function(){this.setData({_computedWatchInit:"created"})}},definitionFilter:function(t){var e=t.computed,a=t.watch,s=[],f=fe++;s.push({fields:"_computedWatchInit",observer:function(){var i=this.data._computedWatchInit;if(i==="created"){var r={computedUpdaters:[],computedRelatedPathValues:{},watchCurVal:{},_triggerFromComputedAttached:{}};this._computedWatchInfo||(this._computedWatchInfo={}),this._computedWatchInfo[f]=r,a&&Object.keys(a).forEach(function(u){var o=m.parseMultiDataPaths(u).map(function(p){var c=p.path,l=p.options,v=m.getDataOnPath(this.data,c);return l.deepCmp?Y(v):v}.bind(this));r.watchCurVal[u]=o}.bind(this))}else if(i==="attached"){var n=this._computedWatchInfo[f];e&&Object.keys(e).forEach(function(u){var o=e[u],p=[],c=o(x.create(this.data,p)),l=p.map(function(h){var d=h.path;return{path:d,value:m.getDataOnPath(this.data,d)}}.bind(this));this.setData(H({},u,x.unwrap(c))),n._triggerFromComputedAttached[u]=!0,n.computedRelatedPathValues[u]=l;var v=function(){for(var h=n.computedRelatedPathValues[u],d=!1,y=0;y<h.length;y++){var g=h[y],K=g.path;if(g.value!==m.getDataOnPath(this.data,K)){d=!0;break}}if(!d)return!1;var P=[],Q=o(x.create(this.data,P));return this.setData(H({},u,x.unwrap(Q))),n.computedRelatedPathValues[u]=P,!0}.bind(this);n.computedUpdaters.push(v)}.bind(this))}}}),e&&s.push({fields:"**",observer:function(){if(this._computedWatchInfo){var i,r=this._computedWatchInfo[f];if(r)do i=r.computedUpdaters.some(function(n){return n.call(this)}.bind(this));while(i)}}}),a&&Object.keys(a).forEach(function(i){var r=m.parseMultiDataPaths(i);s.push({fields:i,observer:function(){if(this._computedWatchInfo){var n=this._computedWatchInfo[f];if(n){if(Object.keys(n._triggerFromComputedAttached).length){var u={};for(var o in r.forEach(function(d){return u[d.path[0]]=!0}),n._triggerFromComputedAttached)if(n._triggerFromComputedAttached.hasOwnProperty(o)&&u[o])return void(n._triggerFromComputedAttached[o]=!1)}var p=n.watchCurVal[i],c=r.map(function(d){var y=d.path,g=d.options;return{val:m.getDataOnPath(this.data,y),options:g}}.bind(this)),l=c.map(function(d){var y=d.val;return d.options.deepCmp?Y(y):y});n.watchCurVal[i]=l;for(var v=!1,h=0;h<l.length;h++)if(r[h].options.deepCmp?!ie.default(p[h],l[h]):p[h]!==l[h]){v=!0;break}v&&a[i].apply(this,c.map(function(d){return d.val}))}}}})}),typeof t.observers!="object"&&(t.observers={}),Array.isArray(t.observers)?(U=t.observers).push.apply(U,s):s.forEach(function(i){var r=t.observers[i.fields];r?t.observers[i.fields]=function(){i.observer.call(this),r.call(this)}:t.observers[i.fields]=i.observer})}});O.behavior=oe});"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"behavior",{enumerable:!0,get:function(){return D.behavior}}),exports.ComponentWithComputed=se,exports.BehaviorWithComputed=ue;var D=Z();function se(t){return Array.isArray(t.behaviors)||(t.behaviors=[]),t.behaviors.unshift(D.behavior),Component(t)}function ue(t){return Array.isArray(t.behaviors)||(t.behaviors=[]),t.behaviors.unshift(D.behavior),Behavior(t)}
